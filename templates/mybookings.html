{% load static %}
<html>
	<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="preconnect" href="https://fonts.gstatic.com"> 
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Ubuntu:wght@700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
	<head>
	<style>
        body
    {
            margin: 0;
            background-size: cover;
            height: 100%;
            width: 100%;
            margin: 0px;
            padding: 0px;
            background: #2193b0;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #6dd5ed, #2193b0);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #6dd5ed, #2193b0); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */



    }

/* @extend display-flex; */
display-flex, .booking-content {
  display: flex;
  display: -webkit-flex; }

/* @extend list-type-ulli; */
list-type-ulli, ul {
  list-style-type: none;
  margin: 0;
  padding: 0; }
a:focus, a:active {
  text-decoration: none;
  outline: none;
  transition: all 300ms ease 0s;
  -moz-transition: all 300ms ease 0s;
  -webkit-transition: all 300ms ease 0s;
  -o-transition: all 300ms ease 0s;
  -ms-transition: all 300ms ease 0s; }

input, select, textarea {
  outline: none;
  appearance: unset !important;
  -moz-appearance: unset !important;
  -webkit-appearance: unset !important;
  -o-appearance: unset !important;
  -ms-appearance: unset !important; }

input::-webkit-outer-spin-button, input::-webkit-inner-spin-button {
  appearance: none !important;
  -moz-appearance: none !important;
  -webkit-appearance: none !important;
  -o-appearance: none !important;
  -ms-appearance: none !important;
  margin: 0; }

input:focus, select:focus, textarea:focus {
  outline: none;
  box-shadow: none !important;
  -moz-box-shadow: none !important;
  -webkit-box-shadow: none !important;
  -o-box-shadow: none !important;
  -ms-box-shadow: none !important; }

input[type=checkbox] {
  appearance: checkbox !important;
  -moz-appearance: checkbox !important;
  -webkit-appearance: checkbox !important;
  -o-appearance: checkbox !important;
  -ms-appearance: checkbox !important; }

input[type=radio] {
  appearance: radio !important;
  -moz-appearance: radio !important;
  -webkit-appearance: radio !important;
  -o-appearance: radio !important;
  -ms-appearance: radio !important; }

img {
  max-width: 100%;
  height: auto; }

figure {
  margin: 0; }

p {
  margin-bottom: 0px;
  text-align: center; }

h2 {
  line-height: 1.8;
  margin: 0;
  padding: 0;
  font-weight: bold;
  color: #fff;
  font-family:'Rubik', sans-serif; 
  font-size: 40px; 
  color : #ffffff ;

  text-align: center;
  margin-bottom: 28px; }

.clear {
  clear: both; }

  .form-radio{
  font-size: 14px;
  line-height: 1.8;
  text-align: center;

  font-weight: 400;
  font-family: 'Rubik', sans-serif; 
  font-size: 20px;
   color : #ffffff ;
  margin: 0px; }

.main {
  padding: 115px 0;
  position: relative; }

.container {
  width: 1500px;
  height: 700px;
  background: #fff;
  margin: 0 auto;
  box-shadow: 0px 10px 9.9px 0.1px rgba(0, 0, 0, 0.05);
  -moz-box-shadow: 0px 10px 9.9px 0.1px rgba(0, 0, 0, 0.05);
  -webkit-box-shadow: 0px 10px 9.9px 0.1px rgba(0, 0, 0, 0.05);
  -o-box-shadow: 0px 10px 9.9px 0.1px rgba(0, 0, 0, 0.05);
  -ms-box-shadow: 0px 10px 9.9px 0.1px rgba(0, 0, 0, 0.05);
  border-radius: 10px;
  -moz-border-radius: 10px;
  -webkit-border-radius: 10px;
  -o-border-radius: 10px;
  -ms-border-radius: 10px; }

.booking-content {
  flex-wrap: wrap;
  -moz-flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  -o-flex-wrap: wrap;
  -ms-flex-wrap: wrap; }

.booking-image {
  width: 70%;
  height: 300px;
  margin-bottom: -8px; }

.booking-img {
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px; }

.booking-form {
  width: 30%;
  height: 700px;
  background: #111;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px; }

.form-radio {
  margin-bottom: 65px;
  padding-top: 20px; }
  .form-radio input {
    width: 0;
    height: 0;
    position: absolute;
    left: -9999px; }
  .form-radio label {
    padding-top: 4px; }
  .form-radio input + label {
    margin: 0 3px;
    box-sizing: border-box;
    position: relative;
    display: inline-block;
    border: solid 2px #ebebeb;
    background-color: #FFF;
    font-size: 14px;
    font-weight: 600;
    color: black;
    text-align: center;
    transition: border-color .15s ease-out,  color .25s ease-out,  background-color .15s ease-out, box-shadow .15s ease-out;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    -moz-border-radius: 50%;
    -webkit-border-radius: 50%;
    -o-border-radius: 50%;
    -ms-border-radius: 50%; }
  .form-radio input:checked + label {
    background-color: #111;
    color: #FFF;
    border-color: whitesmoke;
    z-index: 1; }
  .form-radio input:focus + label {
    outline: none; }
  .form-radio input:hover {
    background-color: #111;
    color: #FFF;
    border-color: #111; }

.radio-item-list {
  margin: 0 -3px; }


  .active input + label {
    margin-right: 59px; }

form {
  padding: 72px 70px 70px 70px; }

.form-group {
  margin-bottom: 10px;
  position: relative; 
  text-align: center;
  font-family: 'Rubik', sans-serif;
  background-color: whitesmoke;
  }

.form-input {
  padding-top: 21px; 
  text-align: center;}

.form-label {
  position: absolute;
  transition: 0.25s ease;
  -moz-transition: 0.25s ease;
  -webkit-transition: 0.25s ease;
  -o-transition: 0.25s ease;
  -ms-transition: 0.25s ease;
  color: #bebebe;
  left: 0;
  top: 23px; }

input {
  transition: 0.3s ease;
  -moz-transition: 0.3s ease;
  -webkit-transition: 0.3s ease;
  -o-transition: 0.3s ease;
  -ms-transition: 0.3s ease;
  padding-top: 10px;
  -webkit-appearance: none; }
  input:focus + .form-label, input:valid + .form-label {
    top: 1px;
    font-size: 11px;
    color: #edb77d; }

input, select {
  box-sizing: border-box;
  width: 100%;
  display: block;
  align-items: center;
  font-size: 20px;
  border: none;
  font-family:'Rubik', sans-serif; 
  color: #fff;
  background: transparent;
  padding: 4px 0; }
  input:focus, select:focus {
    border-bottom: 1px solid #edb77d; }



input::-webkit-input-placeholder {
  color: #bebebe; }
input::-moz-placeholder {
  color: #bebebe; }
input:-ms-input-placeholder {
  color: #bebebe; }
input:-moz-placeholder {
  color: #bebebe; }

.submit {
  width: auto;
  text-align: center;
  background: #edb77d;
  color: #fff;
  padding: 15px 43px;
  font-weight: bold;
  border: none;
  border-radius: 5px;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  -o-border-radius: 5px;
  -ms-border-radius: 5px;
  cursor: pointer; }
  .submit:hover {
    background: #e79e50; }

ul {
  background: 0 0;
  z-index: 9;
  border-bottom: 1px solid #999;
  padding-top: 15px; }

ul li {
  padding: 5px 0px;
  z-index: 2;
  color: #bebebe; }

ul li:not(.init) {
  display: none;
  background: #fff;
  color: #222;
  padding: 5px 10px; }

ul li:not(.init):hover, ul li.selected:not(.init) {
  background: #edb77d; }

li.init {
  cursor: pointer;
  position: relative; }
  li.init:after {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    -moz-transform: translateY(-50%);
    -webkit-transform: translateY(-50%);
    -o-transform: translateY(-50%);
    -ms-transform: translateY(-50%);
    font-size: 20px;
    color: #bebebe;
    font-family: 'rubrik' , sans-serif;
    content: '\f2f2'; }

.label-radio {
  display: block;
  margin-bottom: 18px; }

.vertify-booking {
  color: #edb77d;
  font-family: 'Rubik', sans-serif;
  font-size: 11px;
  text-decoration: none;
  text-align: center;
  margin-top: 14px;
  display: block;
  transition: all 0.3s;
  -moz-transition: all 0.3s;
  -webkit-transition: all 0.3s;
  -o-transition: all 0.3s;
  -ms-transition: all 0.3s; }
  .vertify-booking:hover {
    text-decoration: underline; }

.select-list {
  position: relative;
  display: block;
  width: 100%;
  margin-bottom: 47px; }

.list-item {
  position: absolute;
  width: 100%; }

#time {
  z-index: 99; }



@media screen and (max-width: 1200px) {
  .container {
    width: calc( 100% - 30px);
    max-width: 100%;
    background: transparent; }

  .booking-content {
    flex-direction: column;
    -moz-flex-direction: column;
    -webkit-flex-direction: column;
    -o-flex-direction: column;
    -ms-flex-direction: column; }

  .booking-image, .booking-form {
    width: 100%; }



  .booking-form {
    order: 1;
    border-top-right-radius: 0px;
    border-bottom-right-radius: 0px; }

  .booking-img {
   
    width: 100%; } }
@media screen and (max-width: 480px) {
  .radio-item {
    display: block;
    margin-bottom: 15px;
    width: 150px; }

  .active {
    padding: 7px 1px; }

  form {
    padding: 72px 40px 70px 40px; } }

  option{
      text-align: center;
  }

    </style>
	</head>
	<body>
        <nav style="margin: 0%;padding: 0%;">
            <a href="{% url 'indexfunction' %}"> <img src="{% static 'images/hilton.png' %}" alt="hilton logo" style="width: 3cm;"> </a>
              {% if not request.session.email %}
                <a href = "{% url 'registrationpage' %}" style="font-family: 'Rubik', sans-serif; font-size: 25px; position: absolute; top:40px; right: 120px; color: #093050;text-decoration: none; ">
                  Join Us |
                </a>
                <a href = "{% url 'loginpage' %}" style="font-family: 'Rubik', sans-serif; font-size: 25px; position: absolute; top:40px; right: 50px; color: #093050;text-decoration: none; ">
                  Login
              </a>
              {% else %}
              <a href = "#" style="font-family: 'Rubik', sans-serif; font-size: 25px; position: absolute; top:40px; right: 139px; color: #093050;text-decoration: none; ">
                {{request.session.name}} |
              </a>
              <a href = "{% url 'logout' %}" style="font-family: 'Rubik', sans-serif; font-size: 25px; position: absolute; top:40px; right: 50px; color: #093050;text-decoration: none; ">
                 Logout
            </a>
            <a href = "{%url 'mybookings' %}" style="font-family: 'Rubik', sans-serif; font-size: 25px; position: absolute; top:40px; right: 290px; color: #093050;text-decoration: none; "> My Bookings</a>
               {% endif %}
        </nav>
        <center>
            <div>
                        <h2 style="color: #222;">Dine In bookings</h2>
            
                        <table class="table" style="margin-top: 30px; max-width: 1000px;">
                            <thead>
                              <tr class="table table-primary table-hover">
                                <th scope="col">Email</th>
                                <th scope="col">Table no</th>
                                <th scope="col">Time</th>
                                <th scope="col">space</th>
                                <th scope="col">cancel booking</th>
                              </tr>
                            </thead>
                            <tbody>
                                {% for i in dineinbookings %}
                              <tr class="table-dark">
                                <th scope="row">{{i.email}}</th>
                                <td>{{i.table_no}}</td>
                                <td>{{i.time}}</td>
                                <td>{{i.space}}</td>
                                <td><a class="btn btn-danger" href="{% url 'canceldinein' i.email i.table_no%}">cancel booking</a></td>
                              </tr>
                              {% endfor %}
                            </tbody>
                          </table>
                          {% if not dineinbookings %}
                          <h5>Start Booking we were waiting for you</h5>
                          {% endif %}
                    </div>
                  </center>
                  <br/>
                  <br/>
                  <center>
                    <div>
                                <h2 style="color: #222;">Meeting room bookings</h2>
                    
                                <table class="table" style="margin-top: 30px; max-width: 1000px;">
                                    <thead>
                                      <tr class="table table-primary table-hover">
                                        <th scope="col">Email</th>
                                        <th scope="col">Room no</th>
                                        <th scope="col">Room type</th>
                                        <th scope="col">start date</th>
                                        <th scope="col">end date</th>
                                        <th scope="col">cancel booking</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                        {% for i in bookmeetingrooms %}
                                      <tr class="table-dark">
                                        <th scope="row">{{i.email}}</th>
                                        <td>{{i.room_no}}</td>
                                        <td>{{i.room_type}}</td>
                                        <td>{{i.start_date}}</td>
                                        <td>{{i.end_date}}</td>
                                        <td><a class="btn btn-danger" href="{% url 'cancelmeetingroom' i.email i.room_no i.room_type%}">cancel booking</a></td>
                                      </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                  {% if not dineinbookings %}
                                  <h5>Start Booking we were waiting for you</h5>
                                  {% endif %}
                            </div>
                          </center>
                  <br/>
                  <br/>
                  <center>
                    <div>
                                <h2 style="color: #222;">Room bookings</h2>
                    
                                <table class="table" style="margin-top: 30px; max-width: 1000px;">
                                    <thead>
                                      <tr class="table table-primary table-hover">
                                        <th scope="col">Email</th>
                                        <th scope="col">Room no</th>
                                        <th scope="col">Room Type</th>
                                        <th scope="col">Price</th>
                                        <th scope="col">Start Date</th>
                                        <th scope="col">End date</th>
                                        <th scope="col">cancel booking</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                        {% for j in bookrooms %}
                                      <tr class="table-dark">
                                        <th scope="row">{{j.email}}</th>
                                        <td>{{j.room_no}}</td>
                                        <td>{{j.room_type}}</td>
                                        <td>{{j.price}}</td>
                                        <td>{{j.start_date}}</td>
                                        <td>{{j.end_date}}</td>
                                        <td><a class="btn btn-danger" href="/cancelroom/{{j.email}}/{{j.room_no}}">cancel booking</a></td>
                                      </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                  <div style="width: 30%;">
                                    <div class="row justify-content-center">
                                      <div class="col-6"><h4>Total : {{totalbookroom}}</h4></div>
                                      <input type="hidden" value={{totalbookroom}} id="totalamount">
                                      <div id="paypal-button-container"></div>
                                      </div>
                                 </div>
                                  </div>
                                  {% if not bookrooms %}
                                  <h5>Start Booking we were waiting for you</h5>
                                  {% endif %}
                            </div>
                          </center>
                          <script src="https://www.paypal.com/sdk/js?client-id=AY4zHTIoF6OYf_xmao4efyp3UGCdUuAmjt6At_itx545oDTh1SJ2L9-VRMrCzYOkNiLMNPwoQoOJPQ2B&currency=USD"></script>

                          <script>
                           
                            var amount=document.getElementById("totalamount").value;
                              // Render the PayPal button into #paypal-button-container
                              paypal.Buttons({
                                
                              style: {
                              shape: 'pill',
                              color: 'gold',
                              layout: 'vertical',
                              label: 'paypal',

                                },
                      
                                  // Set up the transaction
                                  createOrder: function(data, actions) {
                                      return actions.order.create({
                                          purchase_units: [{
                                              amount: {
                                                  value: amount
                                              }
                                          }]
                                      });
                                  },
                      
                                  // Finalize the transaction
                                  onApprove: function(data, actions) {
                                      return actions.order.capture().then(function(details) {
                                          // Show a success message to the buyer
                                          window.location.href = "{% url 'paymentcompleted' %}";
                                          alert('Transaction completed by ' + details.payer.name.given_name + '!');
                                      });
                                  }
                      
                      
                              }).render('#paypal-button-container');
                            
                          </script>
    </body>

</html>
